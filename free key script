local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local SoundService = game:GetService("SoundService")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer

-- UI Flash Màn hình đen trắng nhấp nháy
local screenGui = Instance.new("ScreenGui", game.CoreGui)
screenGui.IgnoreGuiInset = true
screenGui.ResetOnSpawn = false
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Global

local flashFrame = Instance.new("Frame", screenGui)
flashFrame.Size = UDim2.new(1, 0, 1, 0)
flashFrame.BackgroundColor3 = Color3.new(1, 1, 1)
flashFrame.BackgroundTransparency = 1

-- Âm thanh Jumpscare
local screamSound = Instance.new("Sound", workspace)
screamSound.SoundId = "rbxassetid://138186576"
screamSound.Volume = 10
screamSound:Play()

-- Nhấp nháy màn hình trong 10s
local function flashingEffect()
	local on = true
	local startTime = tick()
	while tick() - startTime < 10 do
		flashFrame.BackgroundColor3 = on and Color3.new(1,1,1) or Color3.new(0,0,0)
		flashFrame.BackgroundTransparency = 0
		wait(0.1)
		flashFrame.BackgroundTransparency = 1
		on = not on
	end
end

-- Giao diện Fake Ban
local function showFakeBanUI()
	screenGui:ClearAllChildren()

	local banFrame = Instance.new("Frame", screenGui)
	banFrame.Size = UDim2.new(0.5, 0, 0.4, 0)
	banFrame.Position = UDim2.new(0.25, 0, 0.3, 0)
	banFrame.BackgroundColor3 = Color3.fromRGB(35,35,35)
	banFrame.BorderSizePixel = 0

	local title = Instance.new("TextLabel", banFrame)
	title.Size = UDim2.new(1, 0, 0.2, 0)
	title.Position = UDim2.new(0, 0, 0, 0)
	title.Text = "Disconnected"
	title.TextScaled = true
	title.Font = Enum.Font.SourceSansBold
	title.TextColor3 = Color3.new(1, 0, 0)
	title.BackgroundTransparency = 1

	local msg = Instance.new("TextLabel", banFrame)
	msg.Size = UDim2.new(1, -20, 0.7, 0)
	msg.Position = UDim2.new(0, 10, 0.2, 0)
	msg.TextWrapped = true
	msg.TextXAlignment = Enum.TextXAlignment.Left
	msg.TextYAlignment = Enum.TextYAlignment.Top
	msg.Font = Enum.Font.SourceSans
	msg.TextScaled = true
	msg.TextColor3 = Color3.new(1,1,1)
	msg.BackgroundTransparency = 1
	msg.Text = "You have been kicked by this experience or its moderators.\n\nModeration message:\n\n" ..
		"You have been permanently banned for Duping/Owning an illegal duplicate of\n" ..
		"3.91 tons Tomato Bush in Grow A Garden\nuuid: [c2ff0abc-90fa-4d99-9323-fakebanned-2025]\n(Error Code: 267)"
end

-- Kết thúc, kick khỏi game
local function kickPlayer()
	wait(5)
	player:Kick("You have been kicked by this experience or its moderators.\n\nModeration message:\n\n" ..
		"You have been permanently banned for Duping/Owning an illegal duplicate of\n" ..
		"3.91 tons Tomato Bush in Grow A Garden\nuuid: [c2ff0abc-90fa-4d99-9323-fakebanned-2025]\n(Error Code: 267)")
end

-- Kích hoạt jumpscare
task.wait(2)
scream:Play()
flashingEffect()
showFakeBanUI()
kickPlayer()
